/*! format_ludilearn 2024-11-28 */
define(["core_courseformat/courseeditor","core_courseformat/local/courseeditor/mutations","core_courseformat/local/content/actions"],function(t,e,o){class LudilearnMutations extends e{cmGamify=async function(e,t){e.setReadOnly(!1),t.forEach(t=>{t=e.get("cm",t);t&&(t.gamified=!0)});var o=e.get("course"),o=await this._callEditWebservice("cm_gamify",o.id,t);e.processUpdates(o,{})};cmNotgamify=async function(e,t){e.setReadOnly(!1),t.forEach(t=>{t=e.get("cm",t);t&&(t.gamified=!1)});var o=e.get("course"),o=await this._callEditWebservice("cm_notgamify",o.id,t);e.processUpdates(o,{})}}return{init:function(){t.getCurrentCourseEditor().addMutations(new LudilearnMutations),o.addActions({cmGamify:"cmGamify",cmNotgamify:"cmNotgamify"})}}});